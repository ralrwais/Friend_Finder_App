<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Friend Finder</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="survey.css">
</head>
<body>
	<div class="container">

		<h2>Answer the Questions Below!</h2>
		<br><h4>Choose from 1 (strongly disagree) to 5 (strongly agree)</h4>
		<hr>

		<h3><strong>About You</strong></h3>
		<h4>Name </h4>
		<input type="text" id="name" class="form-control" required></input>
		<h4>Link to Photo Image (Required)</h4>
		<input type="text" id="photo" class="form-control" required></input>
		<hr>

		<h3><strong>Green is the best color.</strong></h3>
		
	 	<select class="question" id="q1">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>The best place to live is the beach.</strong></h3>
	
	 	<select class="question" id="q2">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>Burritos over pizza, anyday.</strong></h3>
	
	 	<select class="question" id="q3">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>You hate scary movies</strong></h3>
		
	 	<select class="question" id="q4">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>You think Will Farrel is timeless.</strong></h3>
	
	 	<select class="question" id="q5">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>Beer over liquor, anyday.</strong></h3>
	
	 	<select class="question" id="q6">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>Donald Trump is the devil resurrected.</strong></h3>
	
	 	<select class="question" id="q7">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>You're in a love/hate relationship with Javascript.</strong></h3>

	 	<select class="question" id="q8">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>You're in a love/hate relationship with cheese.</strong></h3>
		
	 	<select class="question" id="q9">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<h3><strong>Stand up comedy is your perfect idea of a date.</strong></h3>
		
	 	<select class="question" id="q10">
	 		<option value=""></option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
      	</select>

		<br>
		<br>

		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle"></i>
 Submit</button>

		<hr>
	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> 
	      </div>
	    </footer>

	</div>
	

	<script type="text/javascript">
		
		$('#submit').on('click', function() {
      // this would be a good place to do some validation that the user has answered all the questions and also entered a name and photo url
			var addFriend = {
				name: $('#name').val().trim(),
				photo: $('#photo').val().trim(),
				scores: [$('#q1').val(), $('#q2').val(), $('#q3').val(), $('#q4').val(), $('#q5').val(), $('#q6').val(), $('#q7').val(), $('#q8').val(), $('#q9').val(), $('#q10').val()]
			};
      // so you don't actually need to grab this bit since the default origin will be the location this request originates from
			var currentURL = window.location.origin;
		  $.post(currentURL + "/api/friends", addFriend, function(data) {
		    if(data) {
			  	console.log('New friend added to database');
		    }
		  });
		});
	</script>
</body>
</html>